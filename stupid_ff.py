powers = [-1.0000000099797919,
-1.0000000099019157,
-1.0000000099228414,
-1.0000000099352089,
-0.18193449173960066,
0.6770894872372778,
1.000000009814092,
1.000000009903864,
1.000000009932476,
1.0000000099457171,
1.0000000099501463,
1.0000000099268016,
1.0000000097230417,
0.42041745956615867,
-0.6058122736612995,
-1.0000000098447765,
-1.0000000099238122,
-1.0000000099449744,
-1.0000000099835926,
-1.0000000099570243,
-1.000000009948129,
-1.0000000099144224,
-0.9130315231966877,
0.23446462476130184,
1.0000000097547603,
1.0000000099231283,
1.0000000099488986,
1.0000000099608124,
1.00000000996488,
1.0000000099623818,
1.0000000099495052,
1.0000000098948936,
0.4656483150469813,
-0.7414545074096012,
-1.0000000098808126,
-1.0000000099380724,
-1.0000000099847932,
-1.000000009967161,
-1.0000000099693422,
-1.0000000099647377,
-1.0000000099484323,
-1.0000000098518755,
-0.15047007433012938,
1.0000000086332779,
1.000000009964856,
1.000000009942795,
1.000000009961238,
1.0000000099696769,
1.000000009971722,
1.0000000099673119,
1.0000000099514854,
1.0000000098957225,
0.5638819392769856,
-0.5977316390549793,
-1.0000000098511375,
-1.0000000099759443,
-1.0000000099563753,
-1.0000000099876076,
-1.0000000099677693,
-1.0000000099627997,
-1.0000000099471438,
-1.0000000098985093,
-0.9646922888394773,
0.10650798459023537,
1.0000000098452124,
1.0000000099719744,
1.0000000099829234,
1.0000000099642696,
1.0000000099876785,
1.0000000099589579,
1.0000000099359048,
1.0000000098615844,
1.000000005159291,
0.39794523336868715,
-0.39937566847711786,
-1.000000009771662,
-1.0000000099548887,
-1.0000000099763922,
-1.0000000099806632,
-1.0000000099762754,
-1.0000000099857043,
-1.000000009912368,
-1.0000000093884933,
-0.5933600709409681,
-0.2297692109081748,
0.06701912921434636,
0.5715795246517463,
1.000000009857857,
1.0000000099704833,
1.0000000099958017,
1.0000000099933077,
1.0000000099978081,
1.000000009990553,
1.0000000099552637,
-0.6952608897092981,
-1.0000000096066088,
-0.13165365887000524,
0.5975643236474252,
0.5088656469757499,
-0.40350397297041335,
-1.0000000098890724,
-1.0000000099594348,
-1.0000000099889006,
-1.0000000099643047,
-1.0000000099224102,
-0.5426164234765368,
0.6204613138017999,
1.0000000072337045,
0.5592261539317501,
-0.32505089716098123,
-1.0000000067029824,
-0.9999999736176307,
-0.11120613913469027,
1.000000009403608,
1.0000000099356383,
1.0000000099554407,
1.0000000099504884,
1.0000000099616464,
0.6353969101485016,
-0.3043354239622859,
-0.7335877883526885,
-0.5061389387366853,
0.10930025222859843,
0.7338195054717337,
1.0000000093309307,
1.0000000096938886,
1.0000000094808805,
0.636965838230423,
-0.27759042016542324,
-1.0000000093502421,
-1.0000000099418136,
-1.0000000097889934,
-0.9999959577482737,
-0.5800294157947226,
-0.2676255010193962,
-0.17040793414872424,
-0.21019583205809403,
-0.29225603617824075,
-0.357078566288425,
-0.3797717094258808,
-0.35753156257269775,
-0.29864283896669297,
-0.21535570337635757,
-0.11992346237885047,
-0.022703706703661466,
0.06852152159805178,
0.14855723392258918,
0.21447550738324458,
0.26516304040907807,
0.30084944702481303,
0.322676594878697,
0.33233679648662395,
0.3317880353041251,
0.3230433348863022,
0.3080251962001031,
0.28847400479114416,
0.2658986574195777,
0.2415585370287605,
0.2164675145032077,
0.19141217939938882,
0.16697834928575114,
0.14358109024128957,
0.1214953478658877,
0.10088483012193333,
0.08182787675283108,
0.0643397653064086,
0.048391196084505275,
0.0339231427721726,
0.02085833294085846,
0.009109871445454509,
-0.0014125756214630424,
-0.010798552491007765,
-0.01913411873839733,
-0.02650030163641471,
-0.032972385892404615,
-0.038619775156718876,
-0.04350622144383734,
-0.047690273204463444,
-0.05122582172042865,
-0.05416267604056824,
-0.05654710453092763,
-0.058422322386926274,
-0.059828906750858404,
-0.06080513496654359,
-0.061387252119579995,
-0.06160967339986862,
-0.06150513162290176,
-0.061104781156497597,
-0.06043826533183511,
-0.05953376275145086,
-0.05841802475490778,
-0.05711637997789709,
-0.05565275092593878,
-0.05404966643649746,
-0.05232827156688558,
-0.050508342715464984,
-0.048608321337728355,
-0.04664532967904911,
-0.04463520286810064,
-0.04259252792468691,
-0.04053068225849393,
-0.038461871727134916,
-0.03639717451126779,
-0.03434659223090125,
-0.032319101236448815,
-0.030322703722374344,
-0.028364480657104896,
-0.026450643621697065,
-0.02458658614436841,
-0.0227769333362739,
-0.021025595217503447,
-0.01933581984094006,
-0.017710224152902573,
-0.016150852518920893,
-0.014659220419904032,
-0.013236357428814538,
-0.011882849291270925,
-0.010598876467666538,
-0.009384253767438623,
-0.008238463192776234,
-0.007160691206437736,
-0.006149861058018103,
-0.005204662779874458,
-0.0043235801727611,
-0.0035049184176137783,
-0.00274682889128447,
-0.0020473389835228596,
-0.001404366881067084,
-0.0008157484138538682,
-0.0002792511810192204]
#%%
import serial
import struct
import time
#%%
with serial.Serial('/dev/tty.usbmodem00011', 115200) as ser:
    ser.write(bytearray([100]))
    for i in powers:
        start = time.perf_counter_ns()
        ser.write(bytearray([0])+struct.pack('>l', int(i*10000)))
        while time.perf_counter_ns() - start < 50_000_000: pass
#%%
# with serial.Serial('/dev/tty.usbmodem00011', 115200) as ser:
#     ser.write(bytearray([100]))
#     ser.write(bytearray([0])+struct.pack('>l', 10000))
#     time.sleep(0.5)
#     ser.write(bytearray([0])+struct.pack('>l', -10000))
#     time.sleep(0.5)
#     ser.write(bytearray([0])+struct.pack('>l', 0))
    



# %%
